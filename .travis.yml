language: php
php:
  - '7.1'
  - '7.2'
services:
  - mysql
before_install:
  - mysql -e "CREATE DATABASE myblog;"
script:
  - composer install
  - ./vendor/bin/phpstan analyse src tests --level 4
  - ./vendor/bin/phpunit --bootstrap ./vendor/autoload.php ./tests/ --coverage-clover ./docs/coverage/xml --whitelist ./src
  - ./vendor/bin/codacycoverage clover ./docs/coverage/xml

